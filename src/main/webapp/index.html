<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <title>iDeal en iDin - IRMA</title>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta value="https://privacybydesign.foundation/tomcat/irma_api_server/server/" name="irma-web-server">
        <meta value="https://demo.irmacard.org/tomcat/irma_api_server/api/v2/" name="irma-api-server">
        <link rel="stylesheet" href="https://privacybydesign.foundation/tomcat/irma_api_server/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="common.css"/>
        <script src="https://privacybydesign.foundation/tomcat/irma_api_server/bower_components/jquery/dist/jquery.js" defer></script>
        <script src="https://privacybydesign.foundation/tomcat/irma_api_server/client/irma.js" defer></script>
        <script src="messages.en.js" defer></script>
        <script src="common.js" defer></script>
    </head>
    <body>
        <div class="container-fluid">
            <h1>IBAN + iDin attributen <img src="images/iDIN logo rgb 96 pixels.png" align="right" class='logo'/> <img class='logo' src="images/iDEAL-klein.png" align="right"/></h1>

            <ul class="steps">
                <li class="step">1</li>
                <li class="step">2</li>
                <li class="step">3</li>
                <li class="step">4</li>
            </ul>

            <div id="result-alert" class="alert hidden"></div>

            <div id="transaction-alert" class="alert alert-warning hidden">
                <strong>Er is nog een lopende transactie actief.</strong>
                Ga verder met de al lopende <a href="">transactie</a>.
            </div>

            <div id="token-alert" class="alert alert-warning hidden">
                <strong>U heeft al eerder IBAN attributen aangevraagd.</strong>
                Ga verder met het aanvragen van <a href="?ec=ideal-phase3" class="idin">iDIN attributen</a>,
                of wanneer u uw <a href="?ec=ideal" class="ideal">IBAN attributen</a> nog niet geladen heeft,
                laad dan uw <a href="?ec=ideal" class="ideal">IBAN attributen</a> in uw IRMA app.
            </div>

            <div id="pane-ideal">
                <p>Hier kunt u IBAN attributen aanvragen, dmv een iDeal transactie.</p>

                <form id="form-ideal-request" onsubmit="return false;">
                    <div class="form-group form-bank">
                        <label for="input-ideal-bank">iDeal Bank</label>
                        <select id="input-ideal-bank" class="form-control" required>
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>
                    <div class="form-group form-submit text-right">
                        <input type="submit" id="btn-ideal-request" class="btn btn-primary" value="Inloggen via uw bank"/>
                    </div>

                    <p>
                        Wanneer u al uw IBAN attributen heeft, maar nog niet uw
                        iDin attributen, dan kunt u verder gaan.
                    </p>
                    <div class="text-right">
                        <input type="submit" id="btn-disclose-iban" class="btn btn-default" value="Ga verder naar iDin"/>
                    </div>
                </form>
                <div class="bottom">
                    <p>
                    Via deze pagina kunt u zowel IBAN attributen (uw rekeningnummer, etc.)
                    als uw iDin attributen (uw naam, adres, etc.) verkrijgen. Eerst verkrijgt u uw IBAN attributen door
                    een iDeal transactie van 1 euro af te ronden. Hiermee bewijst u eigendom van het rekeningnummer en
                    dekt u de kosten van de iDeal en iDin transacties.
                    Vervolgens kunt u uw iDin attributen verkrijgen door nogmaals in te loggen bij uw bank (iDin).
                    Uw bank stuurt dan, na uw toestemming, enkele attributen terug naar deze website.
                    </p>
                </div>
            </div>

            <div id="pane-ideal-result-ok" class="hidden">
                <p>
                    De iDeal transaction is succesvol afgerond. U kunt hier uw IBAN
                    attributen laden, of deze stap overslaan.
                </p>
                <div class="text-right">
                    <button id="btn-ideal-skip" class="btn btn-default">Sla deze stap over</button>
                    <button id="btn-ideal-issue" class="btn btn-primary">Laad attributen in IRMA app</button>
                </div>
            </div>

            <div id="pane-ideal-result-fail" class="hidden">
                <p>
                    <button id="btn-ideal-retry" class="btn btn-primary">Probeer opnieuw</button>
                    <button id="btn-ideal-onwards" class="btn btn-default pull-right">Ga verder met iDin attributen</button>
                </p>
            </div>

            <div id="pane-idin">
                <p>Na het ontvangen van deze IBAN attributen kunt u nu uw iDIN attributen ophalen:</p>
                <form id="form-idin-request" onsubmit="return false;">
                    <div class="form-group form-bank">
                        <label for="input-idin-bank">iDIN Bank</label>
                        <select id="input-idin-bank" class="form-control" required>
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>
                    <div class="form-group form-submit text-right">
                        <input type="submit" id="btn-idin-request" class="btn btn-primary" value="Inloggen via uw bank"/>
                    </div>
                </form>
            </div>

            <div id="pane-idin-result">
                <p>U kunt nu de iDIN attributen laden in uw telefoon.</p>
            </div>
        </div>
    </body>
</html>
